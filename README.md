# TI-C6000-DSP-Bootloader-AIS-Protocol-Compatible-MCU-Boot
This repository provides a complete workflow for booting TI C6000 series DSPs (e.g., TMS320C67xx) using an external MCU through the AIS (Application Image Script) boot protocol.

Unlike traditional MCU-side parsing, all TI-TXT parsing and AIS command generation are performed offline in MATLAB.
MATLAB processes the TI-TXT hex file generated by the CCS C6000 Hex Utility, converts the data into AIS command structures, and automatically exports them into a C-compatible .h header file.

The generated header file (e.g., ais_image.h) contains:

AIS opcode structures

Load/Jump/Start/Fill records

Binary program data arrays

AIS script sequence table

This file is then compiled directly into the MCU firmware and sent to the DSP over SPI or UART depending on the boot mode.

ðŸ“„ Workflow Summary
1. Build DSP application

Compile DSP code and generate the executable:

project.out

2. Convert DSP executable to TI-TXT with AIS support
hex6x â€“boot â€“o output.txt project.out

3. MATLAB Offline Parser

MATLAB reads the TI-TXT file and executes the following steps:

Parse TI-TXT address and data blocks

Convert ASCII hex â†’ binary words

Build AIS command records

Pack AIS opcodes, addresses, lengths, and data payloads

Export everything into a .h header file

4. MCU Uses the Generated Header

The MCU firmware includes the generated header:

#include "ais_image.h"


The MCU then transmits the AIS image exactly as defined in the header file to the DSP bootloader.

ðŸ§© AIS Data Structures Used in the .h Output

The MATLAB script generates data in the following format:

typedef struct {
    uint32_t opcode;
    uint32_t address;
    uint32_t size;
} AIS_LoadCommand;

typedef struct {
    uint32_t opcode;
    uint32_t address;
} AIS_JumpCommand;

typedef struct {
    uint32_t opcode;
    uint32_t address;
    uint32_t value;
    uint32_t count;
} AIS_FillCommand;

typedef struct {
    uint32_t opcode;
} AIS_StartCommand;


An example generated entry may look like:

static const AIS_LoadCommand load_cmd_01 = {
    .opcode  = 0x58535901,
    .address = 0x00010000,
    .size    = 64
};

static const uint32_t load_data_01[16] = {
    0x12345678, 0x9ABCDEF0, ...
};


Everything is automatically generated by MATLAB.

ðŸ”§ MCU Boot Process

MCU includes ais_image.h

MCU reads AIS command table

MCU sends AIS records to the DSP in correct order

DSP AIS bootloader loads, configures, and jumps to the application
